"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify);define(function(e,t){function r(){var e={};return e.tarUrl="",e.postString="",e.createAjax=function(){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},e.xhr=e.createAjax(),e.processHandler=function(){4==e.xhr.readyState&&200==e.xhr.status&&(e.resultHandler(e.xhr.responseText),e.addLocalstorageSupport(e.tarUrl,e.xhr.responseText))},e.addLocalstorageSupport=function(e,t){function r(e){var t,r=(new Date).getTime();for(t in n){try{var a=JSON.parse(n.getItem(t))}catch(o){continue}a.deadline&&a.deadline<r&&n.removeItem(t)}e&&e()}if(window.localStorage){var n=window.localStorage;return t&&r(function(){var r={deadline:(new Date).getTime()+6e5,content:t};n.setItem(e,(0,_stringify2["default"])(r))}),n.getItem(e)}},e.get=function(t,r){var n=e.addLocalstorageSupport(t);return n?r(JSON.parse(n).content):(e.tarUrl=t,e.resultHandler=r,e.xhr.onreadystatechange=e.processHandler,e.xhr.open("get",e.tarUrl,!0),void e.xhr.send())},e.post=function(t,r,n){e.tarUrl=t,e.postString=r,e.resultHandler=n,e.xhr.onreadystatechange=e.processHandler,e.xhr.open("post",e.tarUrl,!0),e.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.xhr.send(e.postString)},e}t.Ajax=r});